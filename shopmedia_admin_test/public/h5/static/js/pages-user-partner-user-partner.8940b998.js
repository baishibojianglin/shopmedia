(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-partner-user-partner"],{"0969":function(t,e,n){"use strict";var r=n("137e"),i=n.n(r);i.a},"137e":function(t,e,n){var r=n("c731");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("4f06").default;i("1cdc81e8",r,!0,{sourceMap:!1,shadowMode:!1})},"38bd":function(t,e,n){"use strict";var r,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"segmented-control",class:["text"===t.styleType?"segmented-control--text":"segmented-control--button"],style:{borderColor:"text"===t.styleType?"":t.activeColor}},t._l(t.values,(function(e,r){return n("v-uni-view",{key:r,staticClass:"segmented-control__item",class:["text"===t.styleType?"segmented-control__item--text":"segmented-control__item--button",r===t.currentIndex&&"button"===t.styleType?"segmented-control__item--button--active":"",0===r&&"button"===t.styleType?"segmented-control__item--button--first":"",r===t.values.length-1&&"button"===t.styleType?"segmented-control__item--button--last":""],style:{backgroundColor:r===t.currentIndex&&"button"===t.styleType?t.activeColor:"",borderColor:r===t.currentIndex&&"text"===t.styleType||"button"===t.styleType?t.activeColor:"transparent"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._onClick(r)}}},[n("v-uni-text",{staticClass:"segmented-control__text",style:{color:r===t.currentIndex?"text"===t.styleType?t.activeColor:"#fff":"text"===t.styleType?"#000":t.activeColor}},[t._v(t._s(e))])],1)})),1)},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}))},"3fbf":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"UniSegmentedControl",props:{current:{type:Number,default:0},values:{type:Array,default:function(){return[]}},activeColor:{type:String,default:"#007aff"},styleType:{type:String,default:"button"}},data:function(){return{currentIndex:0}},watch:{current:function(t){t!==this.currentIndex&&(this.currentIndex=t)}},created:function(){this.currentIndex=this.current},methods:{_onClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("clickItem",{currentIndex:t}))}}};e.default=r},"6eaf":function(t,e,n){"use strict";n.r(e);var r=n("7037"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},7037:function(t,e,n){"use strict";var r=n("ee27");n("4160"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("f3f3")),o=n("2f62"),a={data:function(){return{userId:"",roleId:"",latitude:30.65742,longitude:104.06584,markers:[],salecount:0,deviceList:[],orderCount:0,orderList:[],orderMarkers:[],segmentedControl:{items:["已合作","待付款"],current:0}}},computed:(0,i.default)({},(0,o.mapState)(["hasLogin","forcedLogin","userInfo","commonheader"])),onLoad:function(t){this.userId=t.user_id,this.roleId=t.role_id,this.getPartnerDeviceList(),this.getPartnerOrderList()},onNavigationBarButtonTap:function(t){this.$common.actionSheetTap()},methods:{getPartnerDeviceList:function(){var t=this;uni.request({url:this.$serverUrl+"api/partner_device",data:{user_id:this.userId,role_id:this.roleId},header:{commonheader:this.commonheader,"access-user-token":this.userInfo.token},success:function(e){t.salecount=e.data.data.total,t.deviceList=e.data.data.data,t.deviceList.forEach((function(e,n){t.$set(t.markers,n,{title:e.device_id+" "+e.shop_name,longitude:e.longitude,latitude:e.latitude})}))},fail:function(t){uni.showToast({icon:"none",title:"请求异常"})}})},toPartnerDeviceDetail:function(t,e,n){uni.navigateTo({url:"../partner-device/partner-device-detail?partner_device_id="+t+"&partner_id="+e+"&device_id="+n})},getPartnerOrderList:function(){var t=this;uni.request({url:this.$serverUrl+"api/partner_order",data:{user_id:this.userId,role_id:this.roleId},header:{commonheader:this.commonheader,"access-user-token":this.userInfo.token},success:function(e){t.orderCount=e.data.data.total,t.orderList=e.data.data.data,t.orderList.forEach((function(e,n){t.$set(t.orderMarkers,n,{title:e.device_id+" "+e.shop_name,longitude:e.longitude,latitude:e.latitude})}))},fail:function(t){uni.showToast({icon:"none",title:"请求异常"})}})},toPartnerOrderDetail:function(t,e,n){uni.navigateTo({url:"../partner-order/partner-order?order_id="+t+"&partner_id="+e+"&device_id="+n})},toDeviceList:function(){uni.navigateTo({url:"../device/device"})},onClickItem:function(t){this.segmentedControl.current!==t.currentIndex&&(this.segmentedControl.current=t.currentIndex)}}};e.default=a},"761d":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,".map[data-v-4fae00d4]{width:100%;height:%?400?%}.notdevice[data-v-4fae00d4]{font-size:16px;line-height:60px}.icon-position[data-v-4fae00d4]{position:relative;top:2px;margin-left:5px;font-size:20px}",""]),t.exports=e},"7bc2":function(t,e,n){"use strict";var r=n("fcdd"),i=n.n(r);i.a},a0f6:function(t,e,n){"use strict";n.r(e);var r=n("fcac"),i=n("6eaf");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("7bc2");var a,s=n("f0c5"),d=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"4fae00d4",null,!1,r["a"],a);e["default"]=d.exports},a63a:function(t,e,n){"use strict";n.r(e);var r=n("38bd"),i=n("b8c1");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("0969");var a,s=n("f0c5"),d=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"30fa3076",null,!1,r["a"],a);e["default"]=d.exports},b8c1:function(t,e,n){"use strict";n.r(e);var r=n("3fbf"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},c731:function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.segmented-control[data-v-30fa3076]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:36px;overflow:hidden}.segmented-control__item[data-v-30fa3076]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.segmented-control__item--button[data-v-30fa3076]{border-style:solid;border-top-width:1px;border-bottom-width:1px;border-right-width:1px;border-left-width:0}.segmented-control__item--button--first[data-v-30fa3076]{border-left-width:1px;border-top-left-radius:5px;border-bottom-left-radius:5px}.segmented-control__item--button--last[data-v-30fa3076]{border-top-right-radius:5px;border-bottom-right-radius:5px}.segmented-control__item--text[data-v-30fa3076]{border-bottom-style:solid;border-bottom-width:3px}.segmented-control__text[data-v-30fa3076]{font-size:16px;line-height:20px;text-align:center}',""]),t.exports=e},fcac:function(t,e,n){"use strict";var r={"uni-segmented-control":n("a63a").default,"uni-card":n("25a2").default,"uni-list":n("24cc").default,"uni-list-item":n("3e44").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-page-body"},[n("v-uni-view",[n("v-uni-map",{staticClass:"map",attrs:{longitude:t.longitude,latitude:t.latitude,scale:9,markers:0==t.segmentedControl.current?t.markers:t.orderMarkers,"enable-satellite":!1}})],1),n("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt mb"},[n("uni-segmented-control",{attrs:{current:t.segmentedControl.current,values:t.segmentedControl.items,"style-type":"text","active-color":"#409EFF"},on:{clickItem:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickItem.apply(void 0,arguments)}}}),n("v-uni-view",{},[0===t.segmentedControl.current?n("v-uni-view",[n("uni-card",{attrs:{title:"已合作广告屏",thumbnail:"",extra:"合计 "+t.salecount+" 台","is-full":!0,"is-shadow":!0}},[n("uni-list",[0==this.deviceList.length?n("v-uni-view",{staticClass:"uni-center notdevice"},[t._v("您还没有合作广告屏")]):t._e(),t._l(t.deviceList,(function(e,r){return n("uni-list-item",{key:r,attrs:{title:"广告收入：累计￥"+e.total_income,note:"店铺："+e.shop_name+"（地址："+e.address+"）"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toPartnerDeviceDetail(e.partner_device_id,e.partner_id,e.device_id)}}})}))],2)],1)],1):t._e(),1===t.segmentedControl.current?n("v-uni-view",[n("uni-card",{attrs:{title:"已签约待付款",thumbnail:"",extra:"合计 "+t.orderCount+" 台","is-full":!0,"is-shadow":!0}},[n("uni-list",[0==this.orderList.length?n("v-uni-view",{staticClass:"uni-center notdevice"},[t._v("数据不存在")]):t._e(),t._l(t.orderList,(function(e,r){return n("uni-list-item",{key:r,attrs:{title:"签约时间："+e.order_time,note:"店铺："+e.shop_name+"（地址："+e.address+"）"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toPartnerOrderDetail(e.order_id,e.partner_id,e.device_id)}}})}))],2)],1)],1):t._e()],1)],1),n("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt uni-common-mb btn-bottom"},[n("v-uni-button",{staticClass:"primary fon16",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDeviceList.apply(void 0,arguments)}}},[t._v("查看可合作的屏"),n("v-uni-text",{staticClass:"icon icon-position"},[t._v("")])],1)],1)],1)},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}))},fcdd:function(t,e,n){var r=n("761d");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("4f06").default;i("7dff22e7",r,!0,{sourceMap:!1,shadowMode:!1})}}]);